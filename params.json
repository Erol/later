{"google":"UA-31066891-4","body":"# Later\r\n\r\n[**Later**](erol.github.com/later) is a lean Redis-backed event scheduling library for Ruby.\r\n\r\n## Usage\r\n\r\nLater allows you to set unique events on a schedule and run them in the future:\r\n\r\n    require 'later'\r\n\r\n    schedule = Later[:schedule]\r\n    schedule.set 'event-1', Time.now + 60\r\n    schedule.set 'event-2', Time.now + 120\r\n    schedule.set 'event-3', Time.now + 180\r\n\r\nRescheduling an event is simple:\r\n\r\n    schedule.set 'event-1', Time.now + 240\r\n\r\nAnd an event can unset with equal ease:\r\n\r\n    schedule.unset 'event-1'\r\n\r\nYou can manage multiple schedules using different keys:\r\n\r\n    reservations = Later[:reservations]\r\n    appointments = Later[:appointments]\r\n\r\nThe schedules are stored on the default Redis instance. If you need a schedule which must reside on a different Redis instance, you can pass a [Nest](github.com/soveran/nest) object when referencing a schedule set.\r\n\r\n    redis = Redis.new host: host, port: port\r\n    key = Nest.new 'Reservations', redis\r\n\r\n    reservations = Later[key]\r\n\r\n### Workers\r\n\r\nWorkers are Ruby processes that run forever. They allow you to process event schedules in the background:\r\n\r\n    require 'later'\r\n\r\n    Later[:schedule].each do |event|\r\n      # Do something with the event.\r\n    end\r\n\r\n    # This line is never reached.\r\n\r\n#### Timeouts, Blocking & Polling\r\n\r\n`Later::Schedule#each` accepts an optional `timeout` parameter, which has a default value of `1`. Passing an `Integer` will use Redis' blocking mechanism\r\nto process the schedule and is therefore more efficient. Passing a `Float` will poll Redis using the given timeout, and should\r\nonly be used for events which need to be triggered with millisecond precision.\r\n\r\nSee [BLPOP](http://redis.io/commands/blpop) and [BRPOPLPUSH](http://redis.io/commands/brpoplpush) for more information.\r\n\r\nThe below schedule will be polled every 0.1 seconds:\r\n\r\n    Later[:schedule].each(0.1) do |event|\r\n      # Do something with the event.\r\n    end\r\n\r\n#### Stopping\r\n\r\nIf for some reason, a worker has to stop itself from running:\r\n\r\n    Later[:schedule].each do |event|\r\n      # Do something with the event.\r\n\r\n      Later[:schedule].stop! if stop?\r\n    end\r\n\r\n    # This line is reached when stop? is true and Later[:reservations].stop! is called.\r\n\r\n## Installation\r\n\r\nAdd this line to your application's Gemfile:\r\n\r\n    gem 'later'\r\n\r\nAnd then execute:\r\n\r\n    $ bundle\r\n\r\nOr install it yourself as:\r\n\r\n    $ gem install later\r\n\r\n## Contributing\r\n\r\n1. Fork it\r\n2. Create your feature branch ( `git checkout -b my-new-feature` )\r\n3. Create tests and make them pass ( `rake test` )\r\n4. Commit your changes ( `git commit -am 'Added some feature'` )\r\n5. Push to the branch ( `git push origin my-new-feature` )\r\n6. Create a new Pull Request\r\n","tagline":"Lean Redis-backed event scheduling library for Ruby","note":"Don't delete this file! It's used internally to help with page regeneration.","name":"Later"}